[{"C:\\Users\\14143\\websites\\seireitei\\client\\src\\index.tsx":"1","C:\\Users\\14143\\websites\\seireitei\\client\\src\\reportWebVitals.ts":"2","C:\\Users\\14143\\websites\\seireitei\\client\\src\\App.tsx":"3","C:\\Users\\14143\\websites\\seireitei\\client\\src\\components\\Login\\Login.js":"4","C:\\Users\\14143\\websites\\seireitei\\client\\src\\components\\Register\\Register.js":"5"},{"size":461,"mtime":1608183599028,"results":"6","hashOfConfig":"7"},{"size":440,"mtime":1608183599030,"results":"8","hashOfConfig":"7"},{"size":2844,"mtime":1608190528394,"results":"9","hashOfConfig":"7"},{"size":2218,"mtime":1608194044381,"results":"10","hashOfConfig":"7"},{"size":2954,"mtime":1608193558184,"results":"11","hashOfConfig":"7"},{"filePath":"12","messages":"13","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"14"},"1saehm6",{"filePath":"15","messages":"16","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"14"},{"filePath":"17","messages":"18","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"19","usedDeprecatedRules":"14"},{"filePath":"20","messages":"21","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"22"},{"filePath":"23","messages":"24","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"25"},"C:\\Users\\14143\\websites\\seireitei\\client\\src\\index.tsx",[],["26","27"],"C:\\Users\\14143\\websites\\seireitei\\client\\src\\reportWebVitals.ts",[],"C:\\Users\\14143\\websites\\seireitei\\client\\src\\App.tsx",["28"],"import React from 'react';\r\nimport './App.css';\r\nimport axios from 'axios';\r\nimport { BrowserRouter as Router, Switch, Route, Link } from 'react-router-dom';\r\nimport Register from './components/Register/Register';\r\nimport Login from './components/Login/Login';\r\nimport { ConnectionStates } from 'mongoose';\r\n\r\n\r\nclass App extends React.Component {\r\n  state = {\r\n    data: null,\r\n    token: null,\r\n    user: null\r\n  }\r\n\r\ncomponentDidMount() {\r\n  axios.get('http://localhost:5000')\r\n  .then((response) => {\r\n    this.setState({\r\n      data: response.data\r\n    })\r\n  })\r\n  .catch((error) => {\r\n    console.error('Error fetching data: ' + error);\r\n  })\r\n  this.authenticateUser();\r\n}\r\n\r\nauthenticateUser = () => {\r\n  const token = localStorage.getItem('token');\r\n\r\n  if(!token) {\r\n    localStorage.removeItem('user')\r\n    this.setState({ user: null });\r\n  }\r\n\r\n  if (token) {\r\n    const config = {\r\n      headers: {\r\n        'x-auth-token': token\r\n      }\r\n    }\r\n    axios.get('http://localhost:5000/api/auth', config)\r\n    .then((response) => {\r\n      localStorage.setItem('user', response.data.name)\r\n      this.setState({ user: response.data.name })\r\n    })\r\n    .catch((error) => {\r\n      localStorage.removeItem('user');\r\n      this.setState({ user: null });\r\n      console.error('Error logging in: ' + error);\r\n    })\r\n  }\r\n}\r\n\r\nlogOut = () => {\r\n  localStorage.removeItem('token');\r\n  localStorage.removeItem('user');\r\n  this.setState({ user: null, token: null });\r\n}\r\n\r\n\r\n\r\nrender() {\r\n  let { user, data } = this.state;\r\n  const authProps = {\r\n    authenticateUser: this.authenticateUser\r\n  }\r\n    return (\r\n      <Router>\r\n      <div className=\"App\">\r\n        <header className=\"App-header\">\r\n         <h1>Good Things</h1>\r\n         <ul>\r\n           <li>\r\n             <Link to=\"/\">Home</Link>\r\n           </li>\r\n           <li>\r\n             <Link to=\"/register\">Register</Link>\r\n           </li>\r\n           <li>\r\n             {user ?\r\n             <Link to=\"\" onClick={this.logOut}>Log Out</Link> :\r\n             <Link to=\"/login\">Login</Link>\r\n             }\r\n\r\n           </li>\r\n         </ul>\r\n        </header>\r\n        <main>\r\n          <Route exact path=\"/\">\r\n            {user ?\r\n            <React.Fragment>\r\n              <div>Hello {user}!</div>\r\n              <div>{data}</div>\r\n            </React.Fragment> :\r\n            <React.Fragment>\r\n              Please Register or Login\r\n            </React.Fragment>\r\n            }\r\n            \r\n          </Route>\r\n          <Switch>\r\n            <Route \r\n              exact path=\"/register\" \r\n              render={() => <Register {...authProps} />} />\r\n            <Route \r\n            exact path=\"/login\" \r\n            render={() => <Login {...authProps} />} />\r\n          </Switch>\r\n        </main>\r\n      </div>\r\n      </Router>\r\n    );\r\n  } \r\n}\r\n\r\nexport default App;\r\n","C:\\Users\\14143\\websites\\seireitei\\client\\src\\components\\Login\\Login.js",[],["29","30"],"C:\\Users\\14143\\websites\\seireitei\\client\\src\\components\\Register\\Register.js",[],["31","32"],{"ruleId":"33","replacedBy":"34"},{"ruleId":"35","replacedBy":"36"},{"ruleId":"37","severity":1,"message":"38","line":7,"column":10,"nodeType":"39","messageId":"40","endLine":7,"endColumn":26},{"ruleId":"33","replacedBy":"34"},{"ruleId":"35","replacedBy":"36"},{"ruleId":"33","replacedBy":"41"},{"ruleId":"35","replacedBy":"42"},"no-native-reassign",["43"],"no-negated-in-lhs",["44"],"@typescript-eslint/no-unused-vars","'ConnectionStates' is defined but never used.","Identifier","unusedVar",["43"],["44"],"no-global-assign","no-unsafe-negation"]